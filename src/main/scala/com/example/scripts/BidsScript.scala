package com.example.scripts

import org.apache.http.client.methods.HttpGet
import org.apache.http.impl.client.HttpClients

import scala.io.Source

object BidsScript {

//http://price-optimizer1.snc1:8080/bids?partner=tripadvisor&permalink=ga-bk-jet-luxury-at-the-signature-condo-hotel-1&epiv=.5

  def main(args: Array[String]): Unit = {

    val client = HttpClients.createDefault()

    val httpGets = permalinks.map(permalink => (permalink, new HttpGet(s"http://price-optimizer1.snc1:8080/bids?partner=tripadvisor&permalink=$permalink")))

    val permalinksToBids = httpGets.map(foo => (foo._1, Source.fromInputStream(client.execute(foo._2).getEntity.getContent).mkString))

    httpGets.toStream.map(foo => (foo._1, Source.fromInputStream(client.execute(foo._2).getEntity.getContent).mkString)).foreach(result => {
      println(result._1 + "," + result._2)
    })

//    permalinksToBids.foreach(result => {
//      println(result._1 + "," + result._2)
//    })

  }



  val permalinks = Array("ga-bk-georgetown-suites", "ga-bk-hilton-head-island-beach-tennis-resort", "ga-bk-crested-butte-old-town-inn-2", "ga-bk-pinecliff-village-resort-1", "ga-bk-ramada-sarasota-2", "ga-bk-hilton-hotel-and-suites-niagara-falls-fallsview-10", "ga-bk-wyndham-garden-greenville-airport", "ga-bk-brighton-suites-hotel", "ga-bk-fort-william-henry-hotel-9", "ga-bk-the-golden-inn-hotel-4", "ga-bk-port-royal-hotel-1", "ga-bk-bayshore-resort-1", "ga-bk-long-beach-resort-3", "ga-bk-days-inn-at-the-falls-5", "ga-bk-international-palms-resort-cocoa-beach-5", "ga-bk-roomba-inn-suites-orlando-kissimmee-4", "ga-bk-lake-tahoe-resort-hotel-3", "ga-bk-ramada-harrison-hot-springs-6", "ga-bk-golden-arrow-lakeside-resort-9", "ga-bk-holiday-inn-fort-myers-downtown-historic-1", "ga-bk-porto-vista-hotel-5", "ga-bk-the-inns-at-equinox-6", "ga-bk-radisson-resort-orlando-celebration-4", "ga-bk-best-western-plus-hawthorne-terrace-3", "ga-bk-put-in-bay-resort-conference-center-4", "ga-bk-omni-severin-hotel", "ga-bk-ramada-hotel-niagara-falls-fallsview-8", "ga-bk-marriott-gateway-on-the-falls-7", "ga-bk-tuscana-resort-2", "ga-bk-fort-lauderdale-marriott-coral-springs-hotel-golf-club-convention-center", "ga-bk-minerals-hotel-4", "ga-bk-seaport-inn-marina-4", "ga-bk-keystone-condominiums", "ga-bk-deer-valley-lodge-4", "ga-bk-lakeside-inn-2", "ga-bk-country-inn-suites-ithaca-2", "ga-bk-the-beacon-resort-7", "ga-bk-merrill-farm-inn-2", "ga-bk-the-follansbee-inn", "ga-bk-cortona-inn-suites-anaheim-resort", "ga-bk-hotel-502", "ga-bk-the-cove-of-lake-geneva-4", "ga-bk-the-carriage-house-inn-7", "ga-bk-salishan-spa-and-golf-resort-9", "ga-bk-virage-hotel-3", "ga-bk-mckinley-grand-hotel-2", "ga-bk-executive-suites-hotel-conference-centre-burnaby-4", "ga-bk-le-meridien-san-francisco-4", "ga-bk-skamania-lodge-9", "ga-bk-calistoga-inn-restaurant-brewery-9", "ga-bk-968-park-hotel-4", "ga-bk-seralago-hotel-1", "ga-bk-heidel-house-resort-spa-6", "ga-bk-residence-inn-by-marriott-dallas-park-central-6", "ga-bk-sheraton-pentagon-city-hotel-7", "ga-bk-bear-mountain-inn-and-overlook-lodge-3", "ga-bk-days-hotel-new-york-city-broadway-4", "ga-bk-sheraton-tucson-hotel-suites-2", "ga-bk-baymont-inn-suites-lake-dillon-2", "ga-bk-paradise-plaza-inn-4", "ga-bk-the-abraham-lincoln-4", "ga-bk-best-western-airport-inn-3", "ga-bk-chautauqua-lodge-6", "ga-bk-sonesta-es-suites-dublin", "ga-bk-best-western-plus-holland-inn-suites-1", "ga-bk-the-essex-resort-spa-7", "ga-bk-best-western-of-lake-george-8", "ga-bk-wyndham-garden-niagara-falls-hotel-7", "ga-bk-the-falcon-motel", "ga-bk-arlington-resort-hotel-spa-2", "ga-bk-best-western-plus-midvale-inn-5", "ga-bk-krystal-grand-punta-cancun-2", "ga-bk-cap-tremblant-8", "ga-bk-sheraton-crescent-hotel", "ga-bk-howard-johnson-oceanfront-inn-1", "ga-bk-wyndham-garden-manassas-1", "ga-bk-the-reef-playacar-resort-and-spa-1", "ga-bk-comfort-inn-suites-west-atlantic-city-4", "ga-bk-la-quinta-inn-suites-knoxville-airport-1", "ga-bk-ramada-minneapolis-at-mall-of-america-2", "ga-bk-quality-inn-hoffman-estates-9", "ga-bk-atlantic-ocean-palm-inn-4", "ga-bk-santa-cruz-dream-inn-1", "ga-bk-fireside-lodge-1", "ga-bk-la-quinta-inn-suites-minneapolis-northwest", "ga-bk-hawthorn-suites-by-wyndham-sterling-dulles", "ga-bk-michael-s-inn-fallsview-hotel-11", "ga-bk-homewood-suites-st-louis-riverport-airport-west", "ga-bk-howard-johnson-old-town-scottsdale-4", "ga-bk-the-inn-at-henry-horton-state-park", "ga-bk-wyndham-garden-fort-myers-beach-1", "ga-bk-secrets-inn-4", "ga-bk-comfort-suites-atlanta-airport", "ga-bk-days-inn-gunnison", "ga-bk-miramonte-resort-spa-8", "ga-bk-the-windsor-gardens-hotel-4", "ga-bk-barrymore-hotel-tampa-riverwalk-1", "ga-bk-park-inn-by-radisson-resort-and-conference-center-orlando-8", "ga-bk-fiesta-rancho-casino-hotel-4", "ga-bk-clarion-inn-suites-of-lake-george-5", "ga-bk-mayne-island-resort", "ga-bk-best-western-plus-agate-beach-inn-8", "ga-bk-city-express-san-jose", "ga-bk-lagonita-lodge-3", "ga-bk-quartz-mountain-resort-arts-conference-center-5", "ga-bk-rocky-mountain-springs-lodge-2", "ga-bk-texas-station-8", "ga-bk-wingate-by-wyndham-charleston-university-boulevard-10", "ga-bk-omni-scottsdale-resort-spa-at-montelucia-2", "ga-bk-ramada-wayne-fairfield-area", "ga-bk-red-roof-inn-chicago-downtown-magnificent-mile-2", "ga-bk-best-western-savannah-gateway-3", "ga-bk-summit-resort-5", "ga-bk-best-western-plus-ruidoso-inn", "ga-bk-omni-bedford-springs-resort-9", "ga-bk-the-westin-lake-las-vegas-resort-spa-11", "ga-bk-the-ashbrooke-1", "ga-bk-the-hotel-zamora-1", "ga-bk-the-radisson-martinique-3", "ga-bk-best-western-plus-otay-valley-10", "ga-bk-basecamp-hotel", "ga-bk-vision-quest-safari-bed-breakfast-3", "ga-bk-auberge-de-la-fontaine-1", "ga-bk-the-westin-fort-lauderdale-beach-resort", "ga-bk-the-saguaro-palm-springs-2", "ga-bk-hawthorn-suites-by-wyndham-green-bay-2", "ga-bk-viscount-suite-hotel-4", "ga-bk-villa-del-palmar-beach-resort-spa", "ga-bk-radisson-bloomington-by-mall-of-america-4", "ga-bk-top-secret-north-atlantic-city-hotel", "ga-bk-wyndham-ka-eo-kai", "ga-bk-krystal-cancun-1", "ga-bk-red-roof-inn-suites-atlantic-city-8", "ga-bk-royal-st-charles-hotel-6", "ga-bk-hawthorn-suites-by-wyndham-el-paso-airport-6", "ga-bk-inn-at-seaside-5", "ga-bk-sheraton-dallas-hotel-by-the-galleria-5", "ga-bk-days-hotel-scottsdale-3", "ga-bk-indian-wells-resort-hotel-3", "ga-bk-wyndham-boston-chelsea-3", "ga-bk-natura-park-beach-eco-resort-spa-3", "ga-bk-pacific-beach-hotel-10", "ga-bk-paradise-stream-8", "ga-bk-clarion-hotel-chattanooga-lookout-mountain-5", "ga-bk-valley-forge-casino-resort-1", "ga-bk-wood-river-inn-4", "ga-bk-tahoe-lakeshore-lodge-spa-5", "ga-bk-baltimore-harbor-hotel-3", "ga-bk-wyndham-garden-san-antonio-riverwalk-museum-reach-2", "ga-bk-la-serena-inn-6", "ga-bk-hotel-executive-suites-2", "ga-bk-casa-del-mar-beachfront-suites-3", "ga-bk-habitat-residence-condo-hotel-1", "ga-bk-baymont-inn-suites-nashville-airport-8", "ga-bk-total-tennis-camp-4", "ga-bk-hotel-max", "ga-bk-krystal-ixtapa-3", "ga-bk-the-mutiny-hotel-2", "ga-bk-top-secret-staten-island-hotel", "ga-bk-inn-at-boynton-beach-2", "ga-bk-best-western-plus-cairn-croft-hotel-6", "ga-bk-microtel-inn-suites-by-wyndham-san-angelo-2", "ga-bk-island-drive-lodge-7", "ga-bk-oak-plantation-resort-6", "ga-bk-microtel-inn-suites-by-wyndham-knoxville-6", "ga-bk-admiral-hotel-5", "ga-bk-the-majestic-beach-resort-5", "ga-bk-palisades-resort-5", "ga-bk-greensprings-vacation-resort-7", "ga-bk-harbourtowne-1", "ga-bk-geronimo-creek-retreat", "ga-bk-the-big-moose-inn-3", "ga-bk-holiday-inn-evansville-airport", "ga-bk-krystal-beach-acapulco", "ga-bk-aksarben-suites-omaha-1", "ga-bk-the-james-madison-inn", "ga-bk-desert-princess-golf-resort-palm-springs-4", "ga-bk-four-points-by-sheraton-fort-myers-airport-3", "ga-bk-whitney-peak-hotel-2", "ga-bk-royal-decameron-montego-beach-1", "ga-bk-wingate-by-wyndham-at-universal-studios-convention-center-5", "ga-bk-hampton-inn-suites-center", "ga-bk-hampton-inn-victoria", "ga-bk-hampton-inn-suites-port-arthur", "ga-bk-best-western-plus-inn-at-the-peachtrees-3", "ga-bk-the-tropical-at-lifestyle-holidays-vacation-resort-6", "ga-bk-hotel-vetiver-7", "ga-bk-allegria-hotel-7", "ga-bk-the-hotel-minneapolis-autograph-collection-6", "ga-bk-royal-decameron-los-cabos-all-inclusive-4", "ga-bk-suites-at-padre-island-3", "ga-bk-yo-ranch-hotel-and-conference-center-6", "ga-bk-starlux-boutique-hotel-6", "ga-bk-boca-raton-plaza-hotel-suites-1", "ga-bk-jolly-roger-motel-2", "ga-bk-americinn-lodge-suites-saugatuck-5", "ga-bk-country-inn-suites-virginia-beach-5", "ga-bk-ramada-plaza-hotel-green-bay-4", "ga-bk-hotel-st-lauren-6", "ga-bk-manhattan-nyc-an-affinia-hotel", "ga-bk-wyndham-garden-fort-walton-beach-4", "ga-bk-ironworks-hotel-2", "ga-bk-ocean-woods-resort", "ga-bk-red-lion-hotel-twin-falls", "ga-bk-mountain-top-inn-and-resort", "ga-bk-fairfield-inn-suites-by-marriott-burlington-6", "ga-bk-sea-shells-beach-club-6", "ga-bk-coco-key-water-resort-5", "ga-bk-red-lion-inn-suites-phoenix-tempe", "ga-bk-piccadilly-inn-airport-6", "ga-bk-top-secret-hotel-near-disneyland", "ga-bk-the-inn-at-natchez-trace-state-park", "ga-bk-orchard-street-hotel", "ga-bk-cape-cod-inn-motel-1", "ga-bk-clegg-s-hotel-6", "ga-bk-grand-isle-resort-spa", "ga-bk-two-trees-inn-5", "ga-bk-sea-club-resort-4", "ga-bk-howard-johnson-oceanfront-plaza-hotel-4", "ga-bk-hotel-sutter", "ga-bk-americinn-hotel-suites-hawley", "ga-bk-allegro-playacar-resort-1", "ga-bk-wyndham-branson-at-the-meadows-2", "ga-bk-top-secret-chatsworth-hotel", "ga-bk-juniper-springs-resort-3", "ga-bk-emerald-beach-resort-4", "ga-bk-valley-brook-inn-cottages-3", "ga-bk-aqua-beach-inn-11", "ga-bk-red-lion-inn-suites-detroit-metro-airport", "ga-bk-miracle-springs-resort-spa-8", "ga-bk-brookview-manor-inn-1", "ga-bk-the-lodge-at-turbat-s-creek", "ga-bk-mirbeau-inn-spa-at-the-pinehills-2", "ga-bk-golden-nugget-hotel-5", "ga-bk-skyline-inn-niagara-falls-6", "ga-bk-scottsdale-links-resort-3")

}
